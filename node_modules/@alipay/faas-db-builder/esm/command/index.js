var p=function(t,r,e){if(e||arguments.length===2)for(var n=0,a=r.length,m;n<a;n++){if(m||!(n in r)){if(!m)m=Array.prototype.slice.call(r,0,n);m[n]=r[n]}}return t.concat(m||Array.prototype.slice.call(r))};import{Sort as y}from"../common/constant";import{AbsAggregateCommand as f,AddAggregateCommand as A,AddToSetAggregateCommand as d,AndAggregateCommand as c,ArrayElemAtAggregateCommand as w,AvgAggregateCommand as C,CeilAggregateCommand as s,CMPAggregateCommand as l,ConcatAggregateCommand as v,CondAggregateCommand as h,CountAggregateCommand as S,DateToStringAggregateCommand as x,DivideAggregateCommand as M,EqAggregateCommand as b,ExpAggregateCommand as L,FirstAggregateCommand as q,FloorAggregateCommand as T,GtAggregateCommand as E,GteAggregateCommand as N,IfNullAggregateCommand as P,InAggregateCommand as I,IndexOfArrayAggregateCommand as O,IsArrayAggregateCommand as k,ISOWeekAggregateCommand as z,LastAggregateCommand as F,LetAggregateCommand as G,LnAggregateCommand as W,Log10AggregateCommand as j,LogAggregateCommand as B,LtAggregateCommand as D,LteAggregateCommand as R,MapAggregateCommand as U,MaxAggregateCommand as Q,MergeObjectsAggregateCommand as Y,MinAggregateCommand as H,ModAggregateCommand as J,MonthAggregateCommand as K,MultiplyAggregateCommand as V,NeqAggregateCommand as X,NotAggregateCommand as Z,OrAggregateCommand as $,PowAggregateCommand as _,PushAggregateCommand as rr,SizeAggregateCommand as tr,SliceAggregateCommand as nr,SplitAggregateCommand as er,SqrtAggregateCommand as or,SubstrAggregateCommand as ar,SubstrBytesAggregateCommand as mr,SubtractAggregateCommand as pr,SumAggregateCommand as ur,SwitchAggregateCommand as gr,ToLowerAggregateCommand as ir,ToUpperAggregateCommand as yr,TruncAggregateCommand as fr,WeekAggregateCommand as Ar,YearAggregateCommand as dr}from"./aggregate";import{AggregatePipeline as cr}from"./AggregatePipeline";import{AllCommand as wr}from"./query/all";import{AndCommand as Cr,NorCommand as sr,NotCommand as lr,OrCommand as vr}from"./query/logic";import{ElemMatchCommand as hr}from"./query/elemMatch";import{EqCommand as Sr}from"./query/eq";import{ExistsCommand as xr}from"./query/exists";import{ExprCommand as Mr}from"./query/expr";import{GtCommand as br}from"./query/gt";import{GteCommand as Lr}from"./query/gte";import{InCommand as qr}from"./query/in";import{LtCommand as Tr}from"./query/lt";import{LteCommand as Er}from"./query/lte";import{ModCommand as Nr}from"./query/mod";import{NeqCommand as Pr}from"./query/neq";import{NinCommand as Ir}from"./query/nin";import{QueryChain as o}from"./query/QueryChain";import{SizeCommand as Or}from"./query/size";import{AddToSetCommand as kr}from"./update/addToSet";import{IncCommand as zr}from"./update/inc";import{MaxCommand as Fr}from"./update/max";import{MinCommand as Gr}from"./update/min";import{MulCommand as Wr}from"./update/mul";import{PopCommand as jr}from"./update/pop";import{PullCommand as Br}from"./update/pull";import{PullAllCommand as Dr}from"./update/pullAll";import{PushCommand as u}from"./update/push";import{RemoveCommand as Rr}from"./update/remove";import{RenameCommand as Ur}from"./update/rename";import{SetCommand as Qr}from"./update/set";var g=function(){function t(){}t.prototype.pipeline=function(){return new cr};t.prototype.avg=function(r){return new C(r)};t.prototype.count=function(){return new S};t.prototype.max=function(r){return new Q(r)};t.prototype.min=function(r){return new H(r)};t.prototype.sum=function(r){return new ur(r)};t.prototype.and=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var a=Array.isArray(r)?r:p([r],e,true);return new c(a)};t.prototype.or=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var a=Array.isArray(r)?r:p([r],e,true);return new $(a)};t.prototype.not=function(r){return new Z(r)};t.prototype.cmp=function(r,e){var n=Array.isArray(r)?r:[r,e];return new l(n)};t.prototype.eq=function(r,e){var n=Array.isArray(r)?r:[r,e];return new b(n)};t.prototype.neq=function(r,e){var n=Array.isArray(r)?r:[r,e];return new X(n)};t.prototype.lt=function(r,e){var n=Array.isArray(r)?r:[r,e];return new D(n)};t.prototype.lte=function(r,e){var n=Array.isArray(r)?r:[r,e];return new R(n)};t.prototype.gt=function(r,e){var n=Array.isArray(r)?r:[r,e];return new E(n)};t.prototype.gte=function(r,e){var n=Array.isArray(r)?r:[r,e];return new N(n)};t.prototype.addToSet=function(r){return new d(r)};t.prototype.arrayElemAt=function(r,e){var n=Array.isArray(r)?r:[r,e];return new w(n)};t.prototype.indexOfArray=function(r,e,n,a){var m=Array.isArray(r)?r:[r,e,n,a].filter(function(i){return i!==void 0});return new O(m)};t.prototype.isArray=function(r){return new k(r)};t.prototype.size=function(r){return new tr(r)};t.prototype.in=function(r,e){var n=Array.isArray(r)?r:[r,e];return new I(n)};t.prototype.slice=function(r,e,n){var a=Array.isArray(r)?r:[r,e,n].filter(function(m){return m!==void 0});return new nr(a)};t.prototype.map=function(r){return new U(r)};t.prototype.ifNull=function(r,e){var n=Array.isArray(r)?r:[r,e];return new P(n)};t.prototype.cond=function(r){return new h(r)};t.prototype.switch=function(r){return new gr(r)};t.prototype.concat=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var a=Array.isArray(r)?r:p([r],e,true);return new v(a)};t.prototype.dateToString=function(r){return new x(r)};t.prototype.toLower=function(r){return new ir(r)};t.prototype.toUpper=function(r){return new yr(r)};t.prototype.split=function(r,e){var n=Array.isArray(r)?r:[r,e];return new er(n)};t.prototype.substr=function(r,e,n){var a=Array.isArray(r)?r:[r,e,n];return new ar(a)};t.prototype.substrBytes=function(r,e,n){var a=Array.isArray(r)?r:[r,e,n];return new mr(a)};t.prototype.first=function(r){return new q(r)};t.prototype.last=function(r){return new F(r)};t.prototype.push=function(r){return new rr(r)};t.prototype.let=function(r){return new G(r)};t.prototype.add=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var a=Array.isArray(r)?r:p([r],e,true);return new A(a)};t.prototype.subtract=function(r,e){var n=Array.isArray(r)?r:[r,e];return new pr(n)};t.prototype.multiply=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var a=Array.isArray(r)?r:p([r],e,true);return new V(a)};t.prototype.divide=function(r,e){var n=Array.isArray(r)?r:[r,e];return new M(n)};t.prototype.abs=function(r){return new f(r)};t.prototype.ceil=function(r){return new s(r)};t.prototype.exp=function(r){return new L(r)};t.prototype.floor=function(r){return new T(r)};t.prototype.ln=function(r){return new W(r)};t.prototype.log=function(r,e){var n=Array.isArray(r)?r:[r,e];return new B(n)};t.prototype.log10=function(r){return new j(r)};t.prototype.mod=function(r,e){var n=Array.isArray(r)?r:[r,e];return new J(n)};t.prototype.pow=function(r,e){var n=Array.isArray(r)?r:[r,e];return new _(n)};t.prototype.sqrt=function(r){return new or(r)};t.prototype.trunc=function(r){return new fr(r)};t.prototype.mergeObjects=function(r){return new Y(r)};t.prototype.month=function(r){return new K(r)};t.prototype.year=function(r){return new dr(r)};t.prototype.week=function(r){return new Ar(r)};t.prototype.isoWeek=function(r){return new z(r)};return t}();export{g as AggregateCommandFactory};var Yr=function(){function t(){this.aggregate=new g;this.Sort=y}t.prototype.addToSet=function(r){return new kr(r)};t.prototype.inc=function(r){return new zr(r)};t.prototype.max=function(r){return new Fr(r)};t.prototype.min=function(r){return new Gr(r)};t.prototype.mul=function(r){return new Wr(r)};t.prototype.pop=function(r){return new jr(r)};t.prototype.pull=function(r){return new Br(r)};t.prototype.pullAll=function(r){return new Dr(r)};t.prototype.push=function(r){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}return new(u.bind.apply(u,p([void 0,r],e,false)))};t.prototype.remove=function(){return new Rr};t.prototype.rename=function(r){return new Ur(r)};t.prototype.set=function(r){return new Qr(r)};t.prototype.expr=function(r){return new Mr(r)};t.prototype.and=function(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}r=Array.isArray(r[0])?r[0]:r;var n=new Cr(r.map(o.unchain));return new o(n)};t.prototype.or=function(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}r=Array.isArray(r[0])?r[0]:r;var n=new vr(r.map(o.unchain));return new o(n)};t.prototype.not=function(r){var e=new lr(o.unchain(r));return new o(e)};t.prototype.nor=function(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}r=Array.isArray(r[0])?r[0]:r;var n=new sr(r.map(o.unchain));return new o(n)};t.prototype.eq=function(r){return new o(new Sr(r))};t.prototype.neq=function(r){return new o(new Pr(r))};t.prototype.lt=function(r){return new o(new Tr(r))};t.prototype.lte=function(r){return new o(new Er(r))};t.prototype.gt=function(r){return new o(new br(r))};t.prototype.gte=function(r){return new o(new Lr(r))};t.prototype.in=function(r){return new o(new qr(r))};t.prototype.nin=function(r){return new o(new Ir(r))};t.prototype.exists=function(r){return new o(new xr(r))};t.prototype.mod=function(r,e){return new o(new Nr(r,e))};t.prototype.all=function(r){return new o(new wr(r))};t.prototype.elemMatch=function(r){return new o(new hr(o.unchain(r)))};t.prototype.size=function(r){return new o(new Or(r))};return t}();export{Yr as Command};