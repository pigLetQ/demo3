var h=function(c,f,e,a){function r(t){return t instanceof e?t:new e(function(u){u(t)})}return new(e||(e=Promise))(function(t,u){function l(i){try{n(a.next(i))}catch(s){u(s)}}function o(i){try{n(a["throw"](i))}catch(s){u(s)}}function n(i){i.done?t(i.value):r(i.value).then(l,o)}n((a=a.apply(c,f||[])).next())})};var b=function(c,f){var e={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},a,r,t,u;return u={next:l(0),"throw":l(1),"return":l(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(n){return function(i){return o([n,i])}}function o(n){if(a)throw new TypeError("Generator is already executing.");while(u&&(u=0,n[0]&&(e=0)),e)try{if(a=1,r&&(t=n[0]&2?r["return"]:n[0]?r["throw"]||((t=r["return"])&&t.call(r),0):r.next)&&!(t=t.call(r,n[1])).done)return t;if(r=0,t)n=[n[0]&2,t.value];switch(n[0]){case 0:case 1:t=n;break;case 4:e.label++;return{value:n[1],done:false};case 5:e.label++;r=n[1];n=[0];continue;case 7:n=e.ops.pop();e.trys.pop();continue;default:if(!(t=e.trys,t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){e=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){e.label=n[1];break}if(n[0]===6&&e.label<t[1]){e.label=t[1];t=n;break}if(t&&e.label<t[2]){e.label=t[2];e.ops.push(n);break}if(t[2])e.ops.pop();e.trys.pop();continue}n=f.call(c,e)}catch(i){n=[6,i];r=0}finally{a=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:true}}};import{wrapCallback as y}from"./utils";export function WrapCallback(){return function(c,f,e){var a=e.value;e.value=function(r){return h(this,void 0,void 0,function(){return b(this,function(t){return[2,y(a,this)(r)]})})}}}