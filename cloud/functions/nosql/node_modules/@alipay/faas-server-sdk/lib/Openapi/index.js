"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOpenapi=exports.createOpenapiCaller=exports.OpenapiCaller=void 0;const constant_1=require("../constant"),errors_1=require("../errors"),caller_1=require("./caller"),whitelist_1=require("./whitelist");var caller_2=require("./caller");Object.defineProperty(exports,"OpenapiCaller",{enumerable:!0,get:function(){return caller_2.OpenapiCaller}});function createOpenapiCaller(e,r){return new caller_1.OpenapiCaller(e,r||constant_1.OPENAPI_VERSION)}exports.createOpenapiCaller=createOpenapiCaller;const createOpenapiProxy=(e,r)=>new Proxy(e,{get(a,t){const n=whitelist_1.OPENAPI_WHITELIST[t];if(!n)throw errors_1.errors.NOT_FOUND_ERR(`openapi ${t} is not supported`);return{request:p=>r.request(n,p)}}});function createOpenapi(e){const r=createOpenapiCaller(e);function a(t){const n=createOpenapiCaller(e,t?.version);return createOpenapiProxy({},n)}return createOpenapiProxy(a,r)}exports.createOpenapi=createOpenapi;