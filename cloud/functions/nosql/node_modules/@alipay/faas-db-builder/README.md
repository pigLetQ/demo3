# @alipay/faas-db-builder

db 调用参数解析器

## 用法示例

```ts
import { MongoBuilder } from '@alipay/faas-db-builder';

const db = new MongoBuilder();

// 获取查询 collection 列表的 mongo 请求参数
const res1 = db.listCollection(123, 456);

assert.deepStrictEqual(res, {
  // 查询列表操作
  action: 'queryList',
  // 参数详情
  options: {
    $limit: 123,
    $skip: 456,
  },
  // 操作对象为 collection
  target: 'collection',
});

// 获取在名为 'todo' 的 collection 中添加 document 的 mongo 请求参数
const res2 = db.collection('todo').add({
  data: {
    text: 'hello mongo',
    done: false,
  },
});

assert.deepStrictEqual(res2, {
  // 新建操作
  action: 'create',
  // 目标 collection 名
  collectionName: 'todo',
  // 参数详情
  options: {
    done: false,
    text: 'hello mongo',
  },
  // 操作对象为 document
  target: 'document',
});
```
