"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryRequest=void 0;var AbstractCommand_1=require("./AbstractCommand");var error_1=require("../common/error");var util_1=require("./util");var QueryRequest=function(){function t(u,i){if(i===void 0){i=""}this.query=u;this.prefix=i}t.prototype.stringify=function(){var u=this;var i={};var r=util_1.CommandUtils.unchain(this.query);var e=typeof r;if(r instanceof AbstractCommand_1.QueryCommand){return r.stringify()}else if(Array.isArray(r)){return r.map(function(f,l){return new t(f,"".concat(u.prefix,".$.").concat(l)).stringify()})}else if(e==="number"){return r}else if(e==="boolean"){return r}else if(e==="string"){return r}else if(e==="bigint"){return r}else if(e==="function"){throw error_1.DbBuildError.invalidParam(this.prefix,"\u4E0D\u652F\u6301\u51FD\u6570")}else if(e==="symbol"){throw error_1.DbBuildError.invalidParam(this.prefix,"\u4E0D\u652F\u6301 symbol")}else if(e==="undefined"){throw error_1.DbBuildError.invalidParam(this.prefix,"\u4E0D\u652F\u6301 undefined")}else if(r===null){return r}else{for(var n in r){var s=this.prefix?"".concat(this.prefix,".").concat(n):n;var o=r[n];var a=new t(o,s);i[n]=a.stringify()}}return i};t.prototype.toJSON=function(){return this.stringify()};return t}();exports.QueryRequest=QueryRequest;