import { QueryCommand } from './command/AbstractCommand';
import { QueryChain } from './command/query/QueryChain';
import { CollectionAction, DocumentAction, PipelineStageName, Sort, Target } from './common/constant';
export type QueryChainCommand = object | QueryCommand | QueryChain;
export type UnchainCommand<T> = T extends QueryChain ? never : T;
export interface SortOption {
    field: string;
    sort: Sort;
}
export interface UpdateData {
    data: object;
}
export interface DocumentData {
    _id?: string;
    [key: string]: any;
}
export interface AddOneDocumentParam {
    data: DocumentData;
}
export interface AddManyDocumentParam {
    ordered?: boolean;
    data: DocumentData[];
}
export type AddDocumentParam = AddOneDocumentParam | AddManyDocumentParam;
export interface BaseOptions {
    $match?: object;
    $limit?: number;
}
export interface FindOptions extends BaseOptions {
    $project: object;
    $sort: Record<string, 1 | -1>;
    $skip?: number;
}
export interface MongoCollectionListQueryOperation {
    target: Target.collection;
    action: CollectionAction.queryList;
    options: Record<string, unknown>;
}
export interface MongoCollectionOperation {
    target: Target.collection;
    action: Omit<CollectionAction, CollectionAction.queryList>;
    collectionName: string;
}
export interface MongoDocumentOperation {
    target: Target.document;
    action: DocumentAction;
    collectionName: string;
    options: Record<string, unknown>;
}
export type MongoOperation = MongoDocumentOperation | MongoCollectionOperation | MongoCollectionListQueryOperation;
export interface PipelineStage {
    name: PipelineStageName;
    param: any;
}
export interface SampleAggregateParam {
    size: number;
}
export interface EqualityMatchLookupParam {
    from: string;
    localField: string;
    foreignField: string;
    as: string;
}
export interface JoinLookupParam {
    from: string;
    let: Record<string, string>;
    pipeline: object[];
    as: string;
}
export type LookupAggregateParam = EqualityMatchLookupParam | JoinLookupParam;
